<div class="container my-4" *ngIf="!loading">
    <div *ngIf="product; else notFound">
        <div class="row">
            <div class="col-md-6">
                <img [src]="product.Images || 'assets/no-image.png'" class="img-fluid" alt="{{ product.title }}" />
            </div>
            <div class="col-md-6">
                <h2>{{ product.title }}</h2>
                <p><strong>Brand:</strong> {{ product.brand }}</p>
                <p><strong>Category:</strong> {{ product.category.name }}</p>
                <p><strong>Stock:</strong> {{ product.stock }}</p>
                <p><strong>Price:</strong> {{ product.price }} $</p>
                <p>{{ product.description }}</p>

                <button class="btn btn-outline-danger btn-sm"
                    (click)="toggleWishlist(product); $event.stopPropagation()">
                    <i [ngClass]="
              isInWishlist(product._id) ? 'fas fa-heart' : 'far fa-heart'
            "></i> add to wishlist
                </button>
                <button class="btn btn-success w-100 btn-sm mb-2"
                    (click)="addToCart(product); $event.stopPropagation()">
                    <i class="fas fa-cart-plus"></i> Add to Cart
                </button>
            </div>
        </div>
    </div>

    <ng-template #notFound>
        <div class="alert alert-danger">Product not found.</div>
    </ng-template>
</div>

<div *ngIf="loading" class="text-center my-5">
    <div class="spinner-border text-primary"></div>
</div>