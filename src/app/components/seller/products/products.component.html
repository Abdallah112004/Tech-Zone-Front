<h2 class="text-2xl font-bold mb-4">My Products</h2>

<table class="table-auto w-full border">
    <thead>
        <tr class="bg-gray-200">
            <th class="px-4 py-2">title</th>
            <th class="px-4 py-2">Price</th>
            <th class="px-4 py-2">Stock</th>
            <th class="px-4 py-2">Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let product of products">
            <td class="border px-4 py-2">{{ product.title }}</td>
            <td class="border px-4 py-2">{{ product.price }}$</td>
            <td class="border px-4 py-2">{{ product.stock }}</td>
            <td class="border px-4 py-2 space-x-2">
                <button class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"
                    (click)="onEdit(product)">Edit</button>

                <button class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"
                    (click)="onDelete(product.slug)">
                    Delete
                </button>

            </td>
        </tr>
    </tbody>
</table>
<!-- المودال -->
<div *ngIf="showEditModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
    <div class="bg-white p-6 rounded shadow-lg w-1/2">
        <h3 class="text-xl font-bold mb-4">Edit Product</h3>

        <form [formGroup]="editForm" (ngSubmit)="onSubmitEdit()">
            <div class="mb-4">
                <label class="block mb-1">Title</label>
                <input type="text" formControlName="title" class="border p-2 w-full rounded" />
            </div>

            <div class="mb-4">
                <label class="block mb-1">Description</label>
                <textarea formControlName="description" class="border p-2 w-full rounded"></textarea>
            </div>

            <div class="mb-4">
                <label class="block mb-1">Price</label>
                <input type="number" formControlName="price" class="border p-2 w-full rounded" />
            </div>

            <div class="mb-4">
                <label class="block mb-1">Stock</label>
                <input type="number" formControlName="stock" class="border p-2 w-full rounded" />
            </div>

            <div class="flex justify-end space-x-2">
                <button type="button" class="bg-gray-300 px-4 py-2 rounded" (click)="closeModal()">Cancel</button>
                <button type="submit" [disabled]="editForm.invalid"
                    class="bg-green-500 px-4 py-2 text-white rounded">Save</button>
            </div>
        </form>
    </div>
</div>